# Техническое задание: Сервис управления личными финансами

## Описание проекта

Сервис предназначен для управления личными финансами пользователей. Он позволяет пользователям:

- Вводить доходы и расходы.
- Устанавливать бюджеты на различные категории расходов.
- Просматривать отчеты по своим финансам.
- Получать уведомления о превышении бюджета.
- Анализировать траты и устанавливать цели на будущее.

## Основные требования

### Модель данных

1. **Минимум 5 таблиц**, включающих:
    - Пользователи
    - Категории (доходы/расходы)
    - Транзакции (доходы/расходы)
    - Бюджеты
    - Цели

2. **Связи между таблицами**:
    - `One-to-Many`:
        - Один пользователь может иметь несколько транзакций.
        - Одна категория может содержать несколько транзакций.
        - Один пользователь может создавать несколько бюджетов и целей.
    - `Many-to-Many`:
        - Пользователь может участвовать в нескольких категориях, а категория может быть связана с несколькими пользователями (
          например, семейные бюджеты).

3. **Ассоциативная сущность**:
    - Между пользователем и категорией — ассоциативная таблица "Пользователь_Категория", с полем, характеризующим роль
      пользователя в категории (например, владелец, участник).

### Практики 2.1-2.3

Для выполнения задания необходимо:

- Каждая практика оформлена в отдельной ветке репозитория или как отдельный коммит.
- Ветвление должно четко обозначать этап выполнения практик (например, `practice-2.1`, `practice-2.2` и т.д.).

## Реализация серверного приложения

### Стек технологий:

- **FastAPI** для серверной части.
- **PostgreSQL** для базы данных.
- **SQLAlchemy** или **SQLModel** для ORM.
- **Alembic** для миграций базы данных.

### Основной функционал:

1. **API** для работы с финансами:
    - CRUD для транзакций, категорий, бюджетов и целей.
    - GET-запросы с вложенными объектами (связи `many-to-many` и `one-to-many`).

2. **Миграции базы данных**:
    - Использовать Alembic для создания и управления схемой базы данных.

3. **Аннотации типов**:
    - Добавить аннотации типов для передаваемых и возвращаемых данных во всех API-методах.

4. **Файловая структура**:
    - Разделить бизнес-логику на модули: модели, маршруты, сервисы и т.д.

5. **Комментарии**:
    - Комментировать сложные участки кода.

### Дополнительные функции (на 15 баллов):

1. **Авторизация и регистрация пользователей**:
    - Реализовать регистрацию пользователей с хэшированием паролей.
    - Генерация и аутентификация с помощью JWT-токенов.

2. **JWT-токены**:
    - Генерация JWT-токенов при входе.
    - Аутентификация запросов через JWT.

3. **Управление пользователями**:
    - АПИ для получения информации о текущем пользователе.
    - CRUD для списка пользователей.
    - Возможность смены пароля.

4. **Реализация хэширования**:
    - Хэширование паролей без использования сторонних библиотек.
